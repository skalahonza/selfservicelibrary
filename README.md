# Self Service Library
Katederní knihovna s případnou možností samoobslužného provozu.

Self service library for university departments.

[Progress report](https://github.com/skalahonza/self-service-library/releases)
(Generated by `git log --pretty=format:"%s" --since=1.weeks`)

[Slides](https://github.com/skalahonza/self-service-library/blob/main/slides/Self%20Service%20Library.pdf)

## Client
VueJS 
![Deploy to GitHub Pages](https://github.com/skalahonza/self-service-library/workflows/Deploy%20to%20GitHub%20Pages/badge.svg)
:eyes: [Check it out](https://skalahonza.github.io/self-service-library/)

## Server
* .NET Core Web API
* Building with DockerHub [![Docker](https://img.shields.io/docker/cloud/build/skalahonza/self-service-library?label=Docker&style=flat)](https://hub.docker.com/r/skalahonza/self-service-library/builds)
* Hosted on ![Microsoft Azure](https://img.shields.io/badge/Microsoft%20Azure-232F7E?style=flat-square&logo=microsoft-azure)
:eyes: [Check it out](https://via-library.azurewebsites.net/index.html)
* Database ![MongoDB](https://img.shields.io/badge/-MongoDB-black?style=flat-square&logo=mongodb) on MongoDB Atlas

# Local development
## Registering an app (optional)
1. Go to https://auth.fit.cvut.cz/manager/index.xhtml
2. Create a new project
3. Click on Services
4. Enable scopes for Usermap API
    * urn:ctu:oauth:umapi.read
    * cvut:umapi:read
5. Create application (type: Web Application)
6. Set Redirect URI to `http://localhost:8080`
7. Get your Client ID and Client Secret
8. Set VUE_APP_CLIENT_ID in a file **client/.env.docker**
9. Set CLIENTID and CLIENTSECRET in **.env** file

## Running Docker Compose
1. `docker-compose up`
2. Navigate to http://localhost:8080/


## Integrated APIs
### Custom API, library management
* Code Grant SignIn :white_check_mark:
* Code Grant Refresh :white_check_mark:
* Add book :white_check_mark:
* Edit book :white_check_mark:
* View books :white_check_mark:
* Borrow a book :white_check_mark:
* Return a book :white_check_mark:
### CVUT Authorization server
https://rozvoj.fit.cvut.cz/Main/oauth2
* Authorization Code Grant
* Obtain an Access Token
* Refresh an Access Token
* Verify Token
### CVUT Usermap API
https://usermap.cvut.cz/search
* Find user info
